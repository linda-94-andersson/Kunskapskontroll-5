async function loadCats(){const e=new URL(settings.url);e.searchParams.append("limit",settings.limit),e.searchParams.append("page",settings.page),e.searchParams.append("order",settings.order),pageIndicator.textContent="Showing page "+settings.page,showContent.textContent="Loading page...",toggleButtons(!0);try{const t=await fetch(e,{headers:{"x-api-key":"84d558ca-0134-4d7f-bb71-df9000a7f061"}}),a=await t.json();showImg(a)}catch(e){showContent.textContent="Something went wrong while fetching data from the server"}finally{toggleButtons(!1),previous.disabled=0===settings.page}}loadCats();const backgroundSettings={async:!0,crossDomain:!0,url:"https://api.thecatapi.com/v1/images/search",method:"GET",headers:{"x-api-key":"84d558ca-0134-4d7f-bb71-df9000a7f061"},limit:1,order:"random",page:0};function showBackgroundImg(e){const a=document.querySelector("body");e.forEach(({url:e})=>{const t=document.createElement("img");t.className="background-img",t.src=e,a.append(t)})}async function loadCatBackground(){const e=new URL(backgroundSettings.url);e.searchParams.append("limit",backgroundSettings.limit),e.searchParams.append("order",backgroundSettings.order),e.searchParams.append("page",backgroundSettings.page);try{const t=await fetch(e,{headers:{"x-api-key":"84d558ca-0134-4d7f-bb71-df9000a7f061"}});showBackgroundImg(await t.json())}catch(e){console.log("Something went wrong while fetching data from the server")}}loadCatBackground();import{loadCats}from"./asyncfunction.js";function toggleButtons(e){previous.disabled=e,next.disabled=e}function showImg(e){showContent.textContent=null,e.forEach(({url:e})=>{const t=document.createElement("img");t.src=e,showContent.append(t)})}previous.addEventListener("click",()=>{settings.page--,loadCats()}),next.addEventListener("click",()=>{settings.page++,loadCats()});const pageIndicator=document.querySelector(".page-indicator"),showContent=document.querySelector(".show-content"),settings={async:!0,crossDomain:!0,url:"https://api.thecatapi.com/v1/images/search",method:"GET",headers:{"x-api-key":"84d558ca-0134-4d7f-bb71-df9000a7f061"},page:0,limit:12,order:"asc"},previous=document.querySelector(".previous"),next=document.querySelector(".next");$(document).ready(function(){$.ajax(backgroundSettings).done(function(e){console.log(e)})});export{loadCats};